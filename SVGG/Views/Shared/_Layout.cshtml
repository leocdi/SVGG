<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Mon application ASP.NET</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-dark bg-dark">
        <div class="container">
            @Html.ActionLink("Nom d'application", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
            <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" title="Activer/désactiver la navigation" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse d-sm-inline-flex justify-content-between">
                <ul class="navbar-nav flex-grow-1">
                    <li>@Html.ActionLink("Accueil", "Index", "Home", new { area = "" }, new { @class = "nav-link" })</li>
                    <li>@Html.ActionLink("À propos de", "About", "Home", new { area = "" }, new { @class = "nav-link" })</li>
                    <li>@Html.ActionLink("Contact", "Contact", "Home", new { area = "" }, new { @class = "nav-link" })</li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container body-content">
        @RenderBody()
        <div id="monDivsvg"><svg id="monsvg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="highcharts-root" style="font-family: Helvetica, Arial, sans-serif; font-size: 1rem;" xmlns="http://www.w3.org/2000/svg" width="400" height="400" viewBox="0 0 400 400" role="img" aria-label="Chart title"><desc>Created with Highcharts 11.4.3</desc><defs><filter id="highcharts-drop-shadow-1"><feDropShadow dx="1" dy="1" flood-color="#000000" flood-opacity="0.75" stdDeviation="2.5"></feDropShadow></filter><clipPath id="highcharts-w4542qu-31-"><rect x="0" y="0" width="320" height="267" fill="none"></rect></clipPath></defs><rect fill="#ffffff" class="highcharts-background" filter="none" x="0" y="0" width="400" height="400" rx="0" ry="0"></rect><rect fill="none" class="highcharts-plot-background" x="70" y="47" width="320" height="267" filter="none"></rect><g class="highcharts-grid highcharts-xaxis-grid" data-z-index="1"><path fill="none" stroke="#e6e6e6" stroke-width="0" stroke-dasharray="none" data-z-index="1" class="highcharts-grid-line" d="M 73.5 47 L 73.5 314" opacity="1"></path><path fill="none" stroke="#e6e6e6" stroke-width="0" stroke-dasharray="none" data-z-index="1" class="highcharts-grid-line" d="M 215.5 47 L 215.5 314" opacity="1"></path><path fill="none" stroke="#e6e6e6" stroke-width="0" stroke-dasharray="none" data-z-index="1" class="highcharts-grid-line" d="M 358.5 47 L 358.5 314" opacity="1"></path></g><g class="highcharts-grid highcharts-yaxis-grid" data-z-index="1"><path fill="none" stroke="#e6e6e6" stroke-width="1" stroke-dasharray="none" data-z-index="1" class="highcharts-grid-line" d="M 70 314.5 L 390 314.5" opacity="1"></path><path fill="none" stroke="#e6e6e6" stroke-width="1" stroke-dasharray="none" data-z-index="1" class="highcharts-grid-line" d="M 70 260.5 L 390 260.5" opacity="1"></path><path fill="none" stroke="#e6e6e6" stroke-width="1" stroke-dasharray="none" data-z-index="1" class="highcharts-grid-line" d="M 70 207.5 L 390 207.5" opacity="1"></path><path fill="none" stroke="#e6e6e6" stroke-width="1" stroke-dasharray="none" data-z-index="1" class="highcharts-grid-line" d="M 70 153.5 L 390 153.5" opacity="1"></path><path fill="none" stroke="#e6e6e6" stroke-width="1" stroke-dasharray="none" data-z-index="1" class="highcharts-grid-line" d="M 70 100.5 L 390 100.5" opacity="1"></path><path fill="none" stroke="#e6e6e6" stroke-width="1" stroke-dasharray="none" data-z-index="1" class="highcharts-grid-line" d="M 70 47.5 L 390 47.5" opacity="1"></path></g><rect fill="none" class="highcharts-plot-border" data-z-index="1" stroke="#cccccc" stroke-width="0" x="70" y="47" width="320" height="267"></rect><g class="highcharts-axis highcharts-xaxis" data-z-index="2"><path fill="none" class="highcharts-tick" stroke="#333333" stroke-width="1" d="M 73.5 314 L 73.5 324" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#333333" stroke-width="1" d="M 215.5 314 L 215.5 324" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#333333" stroke-width="1" d="M 358.5 314 L 358.5 324" opacity="1"></path><path fill="none" class="highcharts-axis-line" stroke="#333333" stroke-width="1" data-z-index="7" d="M 70 314.5 L 390 314.5"></path></g><g class="highcharts-axis highcharts-yaxis" data-z-index="2"><text x="23.5625" data-z-index="7" text-anchor="middle" transform="translate(0,0) rotate(270 23.5625 180.5)" class="highcharts-axis-title" style="color: rgb(102, 102, 102); font-size: 0.8em; fill: rgb(102, 102, 102);" y="180.5">Values</text><path fill="none" class="highcharts-axis-line" stroke="#333333" stroke-width="0" data-z-index="7" d="M 70 47 L 70 314"></path></g><g class="highcharts-series-group" data-z-index="3" filter="none"><g class="highcharts-series highcharts-series-0 highcharts-line-series highcharts-color-0" data-z-index="0.1" opacity="1" transform="translate(70,47) scale(1 1)" clip-path="url(#highcharts-w4542qu-31-)"><path fill="none" d="M 3.1372549019608 235.0668 L 31.657754010695 190.638 L 60.17825311943 153.3648 L 88.698752228164 129.0144 L 117.2192513369 113.208 L 145.73975044563 79.032 L 174.26024955437 122.1792 L 202.7807486631 108.402 L 231.30124777184 35.8848 L 259.82174688057 59.7012 L 288.3422459893 164.8992 L 316.86274509804 208.9008" class="highcharts-graph" data-z-index="1" stroke="#2caffe" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" filter="none"></path></g><g class="highcharts-markers highcharts-series-0 highcharts-line-series highcharts-color-0" data-z-index="0.1" opacity="1" transform="translate(70,47) scale(1 1)" clip-path="none"><path fill="#2caffe" d="M 3.5000000000000004 239.0668 A 4 4 0 1 1 3.5001999999999174 239.066799995 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 31.5 194.638 A 4 4 0 1 1 31.500199999999918 194.637999995 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 60.5 157.3648 A 4 4 0 1 1 60.500199999999914 157.364799995 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 88.5 133.0144 A 4 4 0 1 1 88.50019999999992 133.014399995 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 117.5 117.208 A 4 4 0 1 1 117.50019999999992 117.207999995 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 145.5 83.032 A 4 4 0 1 1 145.50019999999992 83.03199999499999 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 174.5 126.1792 A 4 4 0 1 1 174.50019999999992 126.17919999499999 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 202.5 112.402 A 4 4 0 1 1 202.50019999999992 112.401999995 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 231.5 39.8848 A 4 4 0 1 1 231.50019999999992 39.884799995 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 259.5 63.7012 A 4 4 0 1 1 259.5001999999999 63.701199995 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 288.5 168.8992 A 4 4 0 1 1 288.5001999999999 168.899199995 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path><path fill="#2caffe" d="M 316.5 212.9008 A 4 4 0 1 1 316.5001999999999 212.900799995 Z" stroke="#ffffff" stroke-width="0" opacity="1" class="highcharts-point highcharts-color-0"></path></g></g><text x="200" text-anchor="middle" class="highcharts-title" data-z-index="4" style="font-size: 1.2em; color: rgb(51, 51, 51); font-weight: bold; fill: rgb(51, 51, 51);" y="25">Chart title</text><text x="200" text-anchor="middle" class="highcharts-subtitle" data-z-index="4" style="color: rgb(102, 102, 102); font-size: 0.8em; fill: rgb(102, 102, 102);" y="46"></text><text x="10" text-anchor="start" class="highcharts-caption" data-z-index="4" style="color: rgb(102, 102, 102); font-size: 0.8em; fill: rgb(102, 102, 102);" y="397"></text><g class="highcharts-legend highcharts-no-tooltip" data-z-index="7" transform="translate(158,355)"><rect fill="none" class="highcharts-legend-box" rx="0" ry="0" stroke="#999999" stroke-width="0" filter="none" x="0" y="0" width="84" height="30"></rect><g data-z-index="1"><g><g class="highcharts-legend-item highcharts-line-series highcharts-color-0 highcharts-series-0" data-z-index="1" transform="translate(8,3)"><path fill="none" class="highcharts-graph" stroke-width="2" stroke-linecap="round" d="M 1 13 L 15 13" stroke="#2caffe"></path><path fill="#2caffe" d="M 8 17 A 4 4 0 1 1 8.000199999999918 16.999999995 Z" class="highcharts-point" stroke="#ffffff" stroke-width="0" opacity="1"></path><text x="21" text-anchor="start" data-z-index="2" style="color: rgb(51, 51, 51); cursor: pointer; font-size: 0.8em; text-decoration: none; fill: rgb(51, 51, 51);" y="17">Series 1</text></g></g></g></g><g class="highcharts-axis-labels highcharts-xaxis-labels" data-z-index="7"><text x="73.137254901961" text-anchor="middle" transform="translate(0,0)" style="color: rgb(51, 51, 51); cursor: default; font-size: 0.8em; fill: rgb(51, 51, 51);" y="341" opacity="1">0</text><text x="358.3422459893" text-anchor="middle" transform="translate(0,0)" style="color: rgb(51, 51, 51); cursor: default; font-size: 0.8em; fill: rgb(51, 51, 51);" y="341" opacity="1">10</text><text x="215.73975044563" text-anchor="middle" transform="translate(0,0)" style="color: rgb(51, 51, 51); cursor: default; font-size: 0.8em; fill: rgb(51, 51, 51);" y="341" opacity="1">5</text></g><g class="highcharts-axis-labels highcharts-yaxis-labels" data-z-index="7"><text x="55" text-anchor="end" transform="translate(0,0)" style="color: rgb(51, 51, 51); cursor: default; font-size: 0.8em; fill: rgb(51, 51, 51);" y="319" opacity="1">0</text><text x="55" text-anchor="end" transform="translate(0,0)" style="color: rgb(51, 51, 51); cursor: default; font-size: 0.8em; fill: rgb(51, 51, 51);" y="266" opacity="1">50</text><text x="55" text-anchor="end" transform="translate(0,0)" style="color: rgb(51, 51, 51); cursor: default; font-size: 0.8em; fill: rgb(51, 51, 51);" y="212" opacity="1">100</text><text x="55" text-anchor="end" transform="translate(0,0)" style="color: rgb(51, 51, 51); cursor: default; font-size: 0.8em; fill: rgb(51, 51, 51);" y="159" opacity="1">150</text><text x="55" text-anchor="end" transform="translate(0,0)" style="color: rgb(51, 51, 51); cursor: default; font-size: 0.8em; fill: rgb(51, 51, 51);" y="106" opacity="1">200</text><text x="55" text-anchor="end" transform="translate(0,0)" style="color: rgb(51, 51, 51); cursor: default; font-size: 0.8em; fill: rgb(51, 51, 51);" y="52" opacity="1">250</text></g><text x="390" class="highcharts-credits" text-anchor="end" data-z-index="8" y="395" style="cursor: pointer; color: rgb(153, 153, 153); font-size: 0.6em; fill: rgb(153, 153, 153);">Highcharts.com</text></svg></div>
        <hr />

        IMAGE
        <img /><br />

        CANVAS
        <canvas width="400" height="400"></canvas>
        <br />
        <br />
        <br />
        <br />
        <footer>
            <p>&copy; @DateTime.Now.Year - Mon application ASP.NET</p>
        </footer>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvg/1.1/canvg.js"></script>
    <script>
        // A $( document ).ready() block.
        $(document).ready(function () {
            console.log("ready!");
            //canvg('canvas', $("#monsvg").html());
            // the canvas calls to output a png
            //var canvas = document.getElementById("canvas");
            //  var img = canvas.toDataURL("image/png");

        });

        var svg = document.querySelector('svg');
        var img = document.querySelector('img');
        var canvas = document.querySelector('canvas');
        var png;

        // get svg data
        var xml = new XMLSerializer().serializeToString(svg);

        // make it base64
        var svg64 = btoa(xml);
        var b64Start = 'data:image/svg+xml;base64,';

        // prepend a "header"
        var image64 = b64Start + svg64;

        // set it as the source of the img element
        img.onload = function () {
            // draw the image onto the canvas
            canvas.getContext('2d').drawImage(img, 0, 0);
            png = canvas.toDataURL("image/png");
            console.log(png);
        }
        img.src = image64;

    </script>
    @RenderSection("scripts", required: false)
</body>
</html>
